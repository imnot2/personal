<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Port+Lligat+Sans|Rokkitt:400,700|Allerta|Alike|Pontano+Sans" />
</head>
<body>
    
</body>
<script src="http://lolita.englishtown.com/axis/_static/scripts/lib/jquery.js"></script>
<script>
    function Parse(str){
        this.str = str;
        this.xmlDoc = $.parseXML('<wrap>'+this.str+'</wrap>');
        this.wrap = $('<div id="wrap"></div>');
    }
    Parse.prototype = {
        parse:function(){
            var me = this;
            var $temp = $(me.xmlDoc).children().first();
            var wrap = $('<div id="wrap"></div>');
            while($temp){
                if($temp[0] === xmlDoc) break;
                if($temp.children().length){
                    $temp = $temp.children().first();
                }else{
                    var dd = me.build($temp);
                    dd.data('xmlNode',temp);
                    wrap.append(dd);
                    $temp = me.getNext($temp);
                }
            }
        },
        getNext:function($node){
            var $next;
            if($node[0] === this.xmlDoc) return $node;
            $next = $node.next();
            if(!$next) return argument.callee($node.parent());
            return $next;
        },
        build:function($node){
            var wrap;
            switch($node[0].nodeName){
                case 'paragraph':
                    wrap = $('<p type="paragraph"></p>');
                break;
                case 'TEXT':
                    wrap = $('<span type="text"></span>');
                break;
                case 'ABC':
                    wrap = $('<span type="abc"></span>');
                break;
                default
                    wrap = $('');
            }
            
            return wrap.append($node.html());
        },
        getCont:function(){
            return this.xmlDoc.documentElement.innerHTML;
        }
    }
    var str = '<paragraph><input>aaaa</input><text>fixed text</text><text><abc>Free text generated by the user</abc></text><text>A combination <abc>of <code a="DD" c="">the</code> <code a="SP" c="text">texte</code> generated by the user</abc> and <c>fixed</c> text which does not require correction.</text><text>It also supports the following markup options:<br/><i>Italic text</i><br/><b>Bold text</b><br/><c>highlighted text</c><br/><i><b>any</b></i> combinations of them.</text></paragraph>';

    console.log(parse.parse(str).html());

</script>
</html>